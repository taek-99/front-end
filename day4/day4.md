## 객체

- 객체형은 원시형과 달리 다양한 데이터를 담을수 있다. 키로 구분된 데이터 집합이나 복잡한 객체를 저장 가능

- 객체 생성법

    - 객체 생성자 문법

    - 객체 리터럴 문법

- 모든 자료형이 올수 있다.

- delete 연산자를 사용하면 삭제 가능

### 표기법

- 점표기법

    - 객체 뒤에 .을 찍어서 사용

- 대괄호 표기법

    - []를 사용하여 표기

    - 여러 단어를 조합해 만들경우 읽을수 없는 경우를 대비하 사용하는 방법

    - key

        - key 변수를 사용하여 원하는 키값을 입력 받고 그 값을 받아올 수 있다.

### 계산된 프로퍼티

- 객체를 만들 때 객체 리터럴 안의 프로퍼티 키가 대괄호로 둘러싸여 있는 경우, 이를 계산된 프로퍼티라고 부름

### 단축된 프로퍼티

- 프로퍼티 값을 기존 변수에서 받아와 사용하는 경우

### in 연산자로 프로퍼티 존재 여부 확인하기

- 다른언어와 달리 존재하지 않는 프로퍼티에 접근하려는 경우 에러가 발생하지 않고 undefines를 반환

- for와 in 같이 사용 가능

### 객체 정렬 방식

- 정수는 자동으로 오름차순

- 그외의 값들은 입력한 그대로 출력

- 정수가 오름차순 안되길 원하면 앞에 +를 붙임

## 참조에 의한 객체 복사

- 객체는 복사시 주소가 복사됨


### 객체 복사, 병합과 object.assign

- 객체를 그대로 복사할려면 새로운 빈 객체를 만든 후 for문으로 값을 옮겨 담음

- 병합 시에는 Object.assign 사용

    - 기존값이 있을 경우 덮어씌움

## 가비지 컬렉션

### 가비지 컬렉션 기준

- 도달 가능성이라는 개념을 사용해 메모리 관리를 수행

- 아래 값들은 선언부터 도달가능하기 때문에 명백한 이유 없이 삭제되지 않음

    - 현재 함수와 지역 변수와 매개변수

    - 중첩 함수의 체인에 있는 함수에서 사용되는 변수와 매개변수

    - 전역 변수

    - 기타 등등

- 도달할 수 없는 섬

    - 객체들에 연결되어 섬이라 부르는 데 객체 자체에 null값을 넣을 경우 그 안의 값들은 도달할 수 없는 섬이 되어 삭제됨


- 가비지 컬렉션에 대한 최적화 기법

    - 세대별 수집

        - 객체를 새로운 객체와 오래된 객체로 나눈다. 들어온지 얼마 안된 객체는 새로운 객체로 지정하여 최대한 공격적으로 없애고 일정시간 이상 동안 살아남은 객체는 오래된 객체로 분류

    - 점진적 수집

        - 방문해야할 객체가 많다면 모든 객체를 한번에 방문하고 mark하는데 상당한 시간이 소요됨. 가비지 컬렉션을 여러 부분으로 분리한 다음, 각 부분을 별도로 수행. 변경사항을 추적할때 추가 작업이 필요하긴 하지만 긴 지연시간을 여러개로 분산시킬수 있어 장점이 있음

    - 유휴 시간 수집

        - 가비지 컬렉터는 실행에 주는 영향을 최소화하기 위해 cpu가 유휴 상태일때만 가비지 컬렉션 실행

1. Javascript는 엔진 내의 가비지 컬렉터(Garbage Colloector)에서 메모리 관리를 수행한다.
2. 이때 GC 기준은 도달가능성(Reachability)라는 개념이 사용된다.
3. 루트(Root) : 태생부터 도달이 가능하여 명백한 이유없이는 삭제된지 않는 값
- 현재 함수의 지역변수와 매개변수
- 중첩 함수의 체인에 잇는 함수에서 사용되는 변수와 매개변수
- 전역 변수와
- 기타 등등
4. 루트가 참조하는 값이나 체이닝으로 루트에서 참조할 수 있는 값은 도달 가능한 값이다.
5. GC가 자동하는 내부 알고리즘은 "mark-and-sweep"이다.
- 루트(Root)에 접근하여 Mark한다.
- 루트 참조하는 객체에 접근하여 Mark한다.
- 더이상 참조하는 객체가 없을 때까지 객체가 참조하는 객체에 접근하여 Mark한다.
- 더이상 접근할 객체가 없으면, Mark되지 않은 객체를 메모리에서 삭제(Sweep)한다.
※ 중요한 점은, 루트를 출발지로해서 참조가 되어 도달 가능한 객체여야 삭제가 안된다는 점이다. 루트가 접근할 수 없고 지들끼리 참조하는 객체 덩어리를 "도달할 수 없는

## 메서드와 this

- 메서드 만들기

    - 객체 user에게 인사할 수 있는 능력을 부여해 줍니다.

    - 함수 표현식으로 함수를 만들고, 객체 프로퍼티에 함수를 할당

    - 객체 프로퍼티에 할당된 함수를 메서드라고 부름

    - function을 생략해도 동일하게 동작가능

- 메서드와 this

    - 메서드 내부에서 this키워드를 사용하면 객체에 접근가능

    - 전역 변수명을 사용해도 되지만 그럴경우 다른 객체에 복사한후 전혀 다른값이 덮어져있을때 원하지 않는 값이 나올 수 있음

